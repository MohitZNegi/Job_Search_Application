@using Job_Search_Application.Data;
@using Job_Search_Application.Controllers;

@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUsers> SignInManager
@inject UserManager<ApplicationUsers> UserManager

@*@Html.AntiForgeryToken()
<ul class="navbar-nav">
@if (SignInManager.IsSignedIn(User))
    {*@


@if (SignInManager.IsSignedIn(User))
    {


    <ul class="navbar-nav">

            <li id="nav-link" class=" dropdown ">
            <a id="nav-link" class=" dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                <img src="~/resources/websitefiles/profile_default.png" class="rounded-circle float-start" style="height: 30px; width: 30px; float: left; margin-right: 0px;" />
            </a>
            @* <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"> @User.Identity?.Name</a>*@
            @if (this.User.IsInRole("Admin"))
            {




                <partial name="_AdminNavPartial" />
            }


            @if (this.User.IsInRole("Employee"))
                {




                    <partial name="_EmployeeNavPartial"/>
                }

            @if (this.User.IsInRole("Employer"))
                {
                        <partial name="_EmployerNavPartial" />
  
                }
               

            </li>
           </ul>
       
   
    }


    else
    {
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link text-light" asp-area="Identity" asp-page="/Account/Register">Register</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-light" asp-area="Identity" asp-page="/Account/Login">Login</a>
        </li>
        </ul>
      
    }
    


@* <!-- <li class="nav-item">
        <a  class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Hello @User.Identity?.Name!</a>
        </li>
        <li class="nav-item">
        <form  class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
        <button  type="submit" class="nav-link btn btn-link text-dark">Logout</button>
        </form>
        </li> -->



        @*<li>
                    @Html.ActionLink("Hello " + User.Identity.GetUserName() + "!", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })
                </li>*@